{"version":3,"sources":["webpack:///webpack/bootstrap 030cb126eff4c772ec8c","webpack:///external \"express\"","webpack:///./server/api/index.js","webpack:///./server/api/board/index.js","webpack:///./server/api/user/index.js","webpack:///./server/config/index.js","webpack:///external \"mongoose\"","webpack:///external \"mongoose-auto-increment\"","webpack:///external \"passport\"","webpack:///./server/model/user/index.js","webpack:///./server/utils/index.js","webpack:///./server/auth/strategies/local.js","webpack:///./server/index.js","webpack:///./server/model/index.js","webpack:///./server/init/index.js","webpack:///external \"nuxt\"","webpack:///external \"express-session\"","webpack:///external \"body-parser\"","webpack:///./server/auth/index.js","webpack:///external \"fs\"","webpack:///./server/auth/strategies ^\\.\\/.*$","webpack:///external \"passport-local\"","webpack:///./server/api ^\\.\\/.*$","webpack:///./server/model/board/index.js","webpack:///./nuxt.config.js"],"names":["express","require","utils","useApiAll","app","getFiles","__dirname","filter","file","forEach","use","routeNone","req","res","json","getApp","module","exports","router","Router","Board","get","find","err","data","findOne","_id","params","id","delete","deleteOne","put","update","body","post","board","title","content","save","passport","User","next","state","userType","regDt","Date","status","message","authenticate","user","info","console","log","logIn","forClient","logout","all","isAuthenticated","undefined","host","port","db","url","mongoose","autoIncrement","UserSchema","Schema","email","type","String","unique","pwd","default","name","birthDay","photo","now","plugin","model","startAt","field","static","callback","method","path","readdirSync","LocalStrategy","Strategy","usernameField","passwordField","done","config","listen","init","connect","connection","initialize","on","e","once","Promise","global","readyState","Builder","Nuxt","session","bodyParser","initMiddleware","urlencoded","extended","initSession","secret","initAuth","initRouter","initNuxt","nuxtConfig","dev","nuxt","builder","build","render","initPassport","initAllStrategies","initSerialize","serializeUser","deserializeUser","findById","BoardSchema","required","regDate","srcDir","head","meta","charset","hid","script","src","link","rel","href","middleware","plugins","css","loading","color","vendor","extractCSS"],"mappings":"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","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 11);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 030cb126eff4c772ec8c","module.exports = require(\"express\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"express\"\n// module id = 0\n// module chunks = 0","const express = require('express')\n\nconst utils = require(\"../utils\");\n\nfunction useApiAll(app) {\n    utils.getFiles(__dirname)\n        .filter(file => file !== \"index.js\")\n        .forEach(file => {\n            app.use(`/${file}`, require(`./${file}`));\n        })\n}\n\nfunction routeNone(app) {\n    app.use(function (req, res) {\n        // 404\n        res.json(\"404_ERROR\")\n    })\n}\n\nfunction getApp() {\n    var app = express();\n    useApiAll(app);\n    routeNone(app);\n\n    return app;\n}\n\nmodule.exports = function (app) {\n    app.use(\"/api\", getApp())\n}\n\n\n\n// WEBPACK FOOTER //\n// ./server/api/index.js","const router = require(\"express\").Router()\r\n\r\nconst Board = require(\"../../model/board\");\r\n\r\nrouter.get(\"/getList\", function (req, res) {\r\n    Board.find({}, function (err, data) {\r\n        res.json(data);\r\n    })\r\n\r\n});\r\n\r\nrouter.get(\"/:id\", function (req, res) {\r\n    Board.findOne({_id: req.params.id}, function (err, data) {\r\n        res.json(data);\r\n    })\r\n});\r\n\r\nrouter.delete(\"/:id\", function (req, res) {\r\n    Board.deleteOne({_id:req.params.id}, function(err){\r\n        if(err){\r\n            res.json(err);\r\n        }\r\n        else{\r\n            res.json(\"Success\");\r\n        }\r\n    })\r\n});\r\n\r\nrouter.put(\"/:id\", function (req, res) {\r\n    Board.update({_id:req.params.id}, req.body, function(err){\r\n        if(err){\r\n            res.json(err);\r\n        }\r\n        else{\r\n            res.json(\"Success\");\r\n        }\r\n    })\r\n});\r\n\r\nrouter.post(\"/insert\", function (req, res) {\r\n    let body = req.body;\r\n    let board = new Board();\r\n    board.title = body.title;\r\n    board.content = body.content;\r\n    board.save(function (err) {\r\n        if (err) {\r\n            res.json(\"error\");\r\n        }\r\n        else {\r\n            res.json(\"success\");\r\n        }\r\n    });\r\n})\r\n\r\n\r\nmodule.exports = router;\n\n\n// WEBPACK FOOTER //\n// ./server/api/board/index.js","const passport = require('passport');\nconst router = require('express').Router()\n\nconst User = require(\"../../model/user\")\n\nrouter.post('/join', function (req, res, next) {\n    new User({\n        ...req.body,\n        state: \"REG\",\n        userType: \"NORMAL\",\n        regDt: new Date()\n    }).save(err => {\n        res.json({\n            status: !err,\n            message: err && err.message\n        });\n    });\n});\n\n/* GET user by ID. */\nrouter.post('/login', function (req, res) {\n    passport.authenticate('local', function (err, user, info) {\n        if (err) return console.log(\"*****************/api/user/login\\r\\n\", err);\n        if (!user) return res.json({message: info});\n\n        req.logIn(user, function (err) {\n            if (err) return res.json(err);\n\n            return res.json({user: user.forClient()});\n        });\n    })(req, res);\n});\n\nrouter.get(\"/logout\", function (req, res) {\n    res.json(req.logout())\n})\n\n/* GET user by ID. */\nrouter.all('/currentUser', function (req, res) {\n    res.json(req.isAuthenticated() ? {user:req.user.forClient()} : undefined);\n});\n\n/* GET user by ID. */\nrouter.get(\"/test\", function (req, res) {\n    if (req.isAuthenticated()) return res.json({data: \"true\"});\n    res.json(req.user);\n});\n\nmodule.exports = router;\n\n\n// WEBPACK FOOTER //\n// ./server/api/user/index.js","\r\nmodule.exports = {\r\n    host: \"localhost\",\r\n    port: 3000,\r\n    db:{\r\n        url:\"mongodb://localhost/blog\"\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./server/config/index.js","module.exports = require(\"mongoose\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"mongoose\"\n// module id = 5\n// module chunks = 0","module.exports = require(\"mongoose-auto-increment\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"mongoose-auto-increment\"\n// module id = 6\n// module chunks = 0","module.exports = require(\"passport\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"passport\"\n// module id = 7\n// module chunks = 0","const mongoose = require(\"mongoose\")\r\nconst autoIncrement = require('mongoose-auto-increment');\r\n\r\nconst UserSchema = mongoose.Schema({\r\n    email: {\r\n        type: String,\r\n        require: true,\r\n        unique: true\r\n    },\r\n    pwd: {\r\n        type: String,\r\n        require: true,\r\n    },\r\n    state: {\r\n        type: String,\r\n        default: \"REG\"\r\n    },\r\n    name: {\r\n        type: String,\r\n        require: true\r\n    },\r\n    birthDay: {\r\n        type: Date,\r\n        require: true,\r\n    },\r\n    userType: {\r\n        type: String,\r\n        default: \"NORMAL\"\r\n    },\r\n    photo: {\r\n        type: String,\r\n    },\r\n    regDt: {\r\n        type: Date,\r\n        default: Date.now\r\n    }\r\n});\r\n\r\nUserSchema.plugin(autoIncrement.plugin, {\r\n    model: \"User\",\r\n    startAt: 1,\r\n    field: '_id'\r\n});\r\n\r\n// User.findById(_id, (err,result)=>{})\r\nUserSchema.static(\"findById\", function(_id, callback){\r\n    return this.findOne({_id}, callback);\r\n})\r\n\r\n// result = new User().myMethod(arg1, arg2);\r\nUserSchema.method(\"forClient\", function(){\r\n    return {\r\n        _id : this._id,\r\n        email : this.email,\r\n        name: this.name,\r\n        birthDay : this.birthDay,\r\n        photo: this.photo,\r\n        userType : this.userType,\r\n        regDt : this.regDt,\r\n    };\r\n})\r\n\r\nlet User = mongoose.model(\"User\", UserSchema);\r\n\r\nmodule.exports = User;\n\n\n// WEBPACK FOOTER //\n// ./server/model/user/index.js","\r\nmodule.exports ={\r\n    getFiles(path){\r\n        return require(\"fs\").readdirSync(path);\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./server/utils/index.js","const passport = require('passport');\r\nconst LocalStrategy = require('passport-local').Strategy;\r\n\r\nconst User = require(\"../../model/user\");\r\n\r\nmodule.exports = function () {\r\n    passport.use(new LocalStrategy({\r\n            usernameField: 'email',\r\n            passwordField: 'pwd'\r\n        },\r\n        function (email, pwd, done) {\r\n            User.findOne({email, pwd}, function (err, user) {\r\n                if (err) {\r\n                    return done(err);\r\n                }\r\n                if (!user) {\r\n                    return done(null, false, {message: 'Incorrect.'});\r\n                }\r\n\r\n                return done(null, user);\r\n            });\r\n        }\r\n    ))\r\n}\n\n\n// WEBPACK FOOTER //\n// ./server/auth/strategies/local.js","\n\nlet config = require('./config');\nlet db =  require('./model')();\nlet app = require('./init')();\n\napp.listen(config.port, config.host, function(){\n    console.log(\"SERVER INIT\")\n})\n\nconsole.log('Server listening on ' + config.host + ':' + config.port);\n\n\n// WEBPACK FOOTER //\n// ./server/index.js","const mongoose  = require('mongoose');\r\nconst autoIncrement = require('mongoose-auto-increment');\r\nconst config = require(\"../config\");\r\n\r\nfunction init(db) {\r\n    mongoose.connect(config.db.url);\r\n    db = mongoose.connection;\r\n\r\n    autoIncrement.initialize(db);\r\n\r\n    db.on('error', (e) => console.log(e));\r\n\r\n    db.once('open', function () {\r\n        console.log(\"Connected to mongo server\");\r\n    });\r\n}\r\n\r\nmodule.exports = function () {\r\n    let db;\r\n\r\n    mongoose.Promise = global.Promise;\r\n\r\n    mongoose.connection.readyState === 1 || init(db);\r\n\r\n    return db;\r\n};\n\n\n// WEBPACK FOOTER //\n// ./server/model/index.js","const {Builder, Nuxt} = require(\"nuxt\");\r\nconst session = require(\"express-session\");\r\nconst bodyParser = require(\"body-parser\");\r\nconst express = require('express');\r\nconst config = require(\"../config\");\r\n\r\nfunction initMiddleware(app) {\r\n    app.use(bodyParser.urlencoded({extended: true}));\r\n    app.use(bodyParser.json());\r\n}\r\n\r\nfunction initSession(app) {\r\n    app.use(session ({secret: \"!XV^&_H$VJ$CHS&\"}))\r\n}\r\n\r\nfunction initAuth(app) {\r\n    require(\"../auth\")(app);\r\n}\r\n\r\nfunction initRouter(app) {\r\n    require(\"../api\")(app);\r\n}\r\n\r\nfunction initNuxt(app) {\r\n    let nuxtConfig = require('../../nuxt.config.js')\r\n    nuxtConfig.dev = !(process.env.NODE_ENV === 'production')\r\n\r\n    const nuxt = new Nuxt(nuxtConfig)\r\n\r\n    if (nuxtConfig.dev) {\r\n        const builder = new Builder(nuxt)\r\n        builder.build()\r\n    }\r\n\r\n    app.use(nuxt.render)\r\n}\r\n\r\nmodule.exports = function () {\r\n    let app = express();\r\n\r\n    initMiddleware(app);\r\n    initSession(app);\r\n    initAuth(app);\r\n    initRouter(app);\r\n    initNuxt(app);\r\n\r\n    return app;\r\n}\n\n\n// WEBPACK FOOTER //\n// ./server/init/index.js","module.exports = require(\"nuxt\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"nuxt\"\n// module id = 14\n// module chunks = 0","module.exports = require(\"express-session\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"express-session\"\n// module id = 15\n// module chunks = 0","module.exports = require(\"body-parser\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"body-parser\"\n// module id = 16\n// module chunks = 0","const passport = require('passport');\r\n\r\nconst utils = require(\"../utils\");\r\nconst User = require(\"../model/user\");\r\n\r\nfunction initPassport(app) {\r\n    app.use(passport.initialize());\r\n    app.use(passport.session());\r\n}\r\n\r\nfunction initAllStrategies() {\r\n    utils.getFiles(`${__dirname}/strategies/`)\r\n        .forEach(file => {\r\n            require(`${__dirname}/strategies/${file}`)()\r\n        })\r\n}\r\n\r\nfunction initSerialize() {\r\n\r\n    // done({}, user) => req.session.passport.user = user\r\n    passport.serializeUser(function (user, done) {\r\n        done(null, user.forClient());\r\n    });\r\n\r\n    passport.deserializeUser(function (user, done) {\r\n        User.findById(user._id, done);\r\n    });\r\n}\r\n\r\nmodule.exports = function (app) {\r\n    initPassport(app);\r\n    initAllStrategies();\r\n    initSerialize();\r\n}\n\n\n// WEBPACK FOOTER //\n// ./server/auth/index.js","module.exports = require(\"fs\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"fs\"\n// module id = 18\n// module chunks = 0","var map = {\n\t\"./local\": 10,\n\t\"./local.js\": 10\n};\nfunction webpackContext(req) {\n\treturn __webpack_require__(webpackContextResolve(req));\n};\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) // check for number or string\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\treturn id;\n};\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 19;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./server/auth/strategies ^\\.\\/.*$\n// module id = 19\n// module chunks = 0","module.exports = require(\"passport-local\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"passport-local\"\n// module id = 20\n// module chunks = 0","var map = {\n\t\"./\": 1,\n\t\"./board\": 2,\n\t\"./board/\": 2,\n\t\"./board/index\": 2,\n\t\"./board/index.js\": 2,\n\t\"./index\": 1,\n\t\"./index.js\": 1,\n\t\"./user\": 3,\n\t\"./user/\": 3,\n\t\"./user/index\": 3,\n\t\"./user/index.js\": 3\n};\nfunction webpackContext(req) {\n\treturn __webpack_require__(webpackContextResolve(req));\n};\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) // check for number or string\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\treturn id;\n};\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 21;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./server/api ^\\.\\/.*$\n// module id = 21\n// module chunks = 0","const mongoose = require(\"mongoose\");\r\nconst autoIncrement = require('mongoose-auto-increment');\r\n\r\nconst BoardSchema = mongoose.Schema({\r\n    title: {\r\n        type: String,\r\n        required: true,\r\n    },\r\n    content: {\r\n        type: String,\r\n        required: true\r\n    },\r\n    regDate :{\r\n        type: Date,\r\n        default : Date.now\r\n    }\r\n});\r\n\r\nBoardSchema.plugin(autoIncrement.plugin, {\r\n    model: \"Board\",\r\n    startAt: 1,\r\n    field: '_id'\r\n});\r\n\r\nlet Board = mongoose.model(\"Board\", BoardSchema);\r\n\r\n// export default {\r\n//     Board\r\n// }\r\nmodule.exports = Board;\r\n\n\n\n// WEBPACK FOOTER //\n// ./server/model/board/index.js","module.exports = {\r\n    srcDir: \"client/\",\r\n    /*\r\n    ** Headers of the page\r\n    */\r\n    head: {\r\n        title: 'Raccoon',\r\n        meta: [\r\n            {charset: 'utf-8'},\r\n            {name: 'viewport', content: 'width=device-width, initial-scale=1'},\r\n            {hid: 'description', name: 'description', content: 'Nuxt.js project'}\r\n        ],\r\n        script: [\r\n            {src: '//cdn.ckeditor.com/4.6.2/full/ckeditor.js'}\r\n        ],\r\n        link: [\r\n            {rel: 'icon', type: 'image/x-icon', href: '/favicon.ico'},\r\n            {rel: 'stylesheet', href: 'https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Material+Icons'}\r\n        ]\r\n    },\r\n    router: {\r\n        middleware: \"checkAuth\"\r\n    },\r\n    plugins: [\r\n        '~/plugins/vuetify.js',\r\n    ],\r\n    css: ['~/assets/style/app.styl'],\r\n    // css: ['~/assets/css/main.css'],\r\n    loading: {color: '#060580'},\r\n    build: {\r\n        vendor: [\r\n            'axios',\r\n            '~/plugins/vuetify.js',\r\n            'vue2-medium-editor'\r\n        ],\r\n        extractCSS: true,\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./nuxt.config.js"],"sourceRoot":""}