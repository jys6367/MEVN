{"version":3,"sources":["webpack:///webpack/bootstrap 5dc2bb9523f65810aff1","webpack:///./server/config/index.js","webpack:///external \"mongoose\"","webpack:///external \"mongoose-auto-increment\"","webpack:///external \"express\"","webpack:///external \"passport\"","webpack:///./server/utils/index.js","webpack:///./server/model/user/index.js","webpack:///./server/auth/strategies/local.js","webpack:///./server/index.js","webpack:///./server/model/index.js","webpack:///./server/init/index.js","webpack:///external \"nuxt\"","webpack:///external \"express-session\"","webpack:///external \"body-parser\"","webpack:///external \"serve-static\"","webpack:///external \"path\"","webpack:///./server/auth/index.js","webpack:///external \"fs\"","webpack:///./server/auth/strategies ^\\.\\/.*$","webpack:///external \"passport-local\"","webpack:///./server/service/TestService.js","webpack:///./server/api/TestController.js","webpack:///./nuxt.config.js","webpack:///./server/init/controller.js","webpack:///./server/api/board/index.js","webpack:///./server/api/user/index.js","webpack:///./server/api ^\\.\\/.*$","webpack:///./server/model/board/index.js","webpack:///./server/utils/upload.js","webpack:///external \"multer\""],"names":["module","exports","host","port","db","url","getFiles","path","require","readdirSync","mongoose","autoIncrement","UserSchema","Schema","email","type","String","unique","pwd","state","default","name","birthDay","Date","userType","photo","regDt","now","plugin","model","startAt","field","static","_id","callback","findOne","method","User","passport","LocalStrategy","Strategy","use","usernameField","passwordField","done","err","user","message","config","app","listen","console","log","init","connect","connection","initialize","on","e","once","Promise","global","readyState","Builder","Nuxt","session","bodyParser","express","serveStatic","initMiddleware","urlencoded","extended","json","join","__dirname","initSession","secret","initAuth","initRouter","initNuxt","nuxtConfig","dev","nuxt","builder","build","render","utils","initPassport","initAllStrategies","forEach","file","initSerialize","serializeUser","forClient","deserializeUser","findById","TestService","TestController","post","test","param","currentUser","get","srcDir","head","title","meta","charset","content","hid","script","src","link","rel","href","router","middleware","plugins","css","loading","color","vendor","extractCSS","fs","methodTypes","Controller","put","delete","all","getInfo","methodNameArr","Object","keys","map","route","getRoute","methodName","dispatch","getDispatch","call","startsWith","slice","req","res","body","params","getController","_Controller","prototype","getRouter","Router","controller","methodInfoArr","info","getAllControllerInfo","filter","controllerName","toUpperCase","endsWith","substr","indexOf","getApp","controllerInfoArr","Board","find","data","id","deleteOne","update","NoLogin","board","regDate","save","upload","next","status","authenticate","logIn","logout","isAuthenticated","undefined","BoardSchema","required","multer","storage","diskStorage","destination","filename","extension","extname","originalname","basename","limits","fies","fileSize"],"mappings":"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","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 8);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 5dc2bb9523f65810aff1","\r\nmodule.exports = {\r\n    host: \"localhost\",\r\n    port: 3000,\r\n    db:{\r\n        url:\"mongodb://localhost/blog\"\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./server/config/index.js","module.exports = require(\"mongoose\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"mongoose\"\n// module id = 1\n// module chunks = 0","module.exports = require(\"mongoose-auto-increment\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"mongoose-auto-increment\"\n// module id = 2\n// module chunks = 0","module.exports = require(\"express\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"express\"\n// module id = 3\n// module chunks = 0","module.exports = require(\"passport\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"passport\"\n// module id = 4\n// module chunks = 0","\r\nmodule.exports ={\r\n    getFiles(path){\r\n        return require(\"fs\").readdirSync(path);\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./server/utils/index.js","const mongoose = require(\"mongoose\")\r\nconst autoIncrement = require('mongoose-auto-increment');\r\n\r\nconst UserSchema = mongoose.Schema({\r\n    email: {\r\n        type: String,\r\n        require: true,\r\n        unique: true\r\n    },\r\n    pwd: {\r\n        type: String,\r\n        require: true,\r\n    },\r\n    state: {\r\n        type: String,\r\n        default: \"REG\"\r\n    },\r\n    name: {\r\n        type: String,\r\n        require: true\r\n    },\r\n    birthDay: {\r\n        type: Date,\r\n        require: true,\r\n    },\r\n    userType: {\r\n        type: String,\r\n        default: \"NORMAL\"\r\n    },\r\n    photo: {\r\n        type: String,\r\n    },\r\n    regDt: {\r\n        type: Date,\r\n        default: Date.now\r\n    }\r\n});\r\n\r\nUserSchema.plugin(autoIncrement.plugin, {\r\n    model: \"User\",\r\n    startAt: 1,\r\n    field: '_id'\r\n});\r\n\r\n// User.findById(_id, (err,result)=>{})\r\nUserSchema.static(\"findById\", function(_id, callback){\r\n    return this.findOne({_id}, callback);\r\n})\r\n\r\n// result = new User().myMethod(arg1, arg2);\r\nUserSchema.method(\"forClient\", function(){\r\n    return {\r\n        _id : this._id,\r\n        email : this.email,\r\n        name: this.name,\r\n        birthDay : this.birthDay,\r\n        photo: this.photo,\r\n        userType : this.userType,\r\n        regDt : this.regDt,\r\n    };\r\n})\r\n\r\nlet User = mongoose.model(\"User\", UserSchema);\r\n\r\nmodule.exports = User;\n\n\n// WEBPACK FOOTER //\n// ./server/model/user/index.js","const passport = require('passport');\r\nconst LocalStrategy = require('passport-local').Strategy;\r\n\r\nconst User = require(\"../../model/user\");\r\n\r\nmodule.exports = function () {\r\n    passport.use(new LocalStrategy({\r\n            usernameField: 'email',\r\n            passwordField: 'pwd'\r\n        },\r\n        function (email, pwd, done) {\r\n            User.findOne({email, pwd}, function (err, user) {\r\n                if (err) {\r\n                    return done(err);\r\n                }\r\n                if (!user) {\r\n                    return done(null, false, {message: 'Incorrect.'});\r\n                }\r\n\r\n                return done(null, user);\r\n            });\r\n        }\r\n    ))\r\n}\n\n\n// WEBPACK FOOTER //\n// ./server/auth/strategies/local.js","\n\nlet config = require('./config');\nlet db =  require('./model')();\nlet app = require('./init')();\n\napp.listen(config.port, config.host, function(){\n    console.log(\"SERVER INIT\")\n    console.log(123);\n})\n\nconsole.log('Server listening on ' + config.host + ':' + config.port);\n\n\n// WEBPACK FOOTER //\n// ./server/index.js","const mongoose  = require('mongoose');\r\nconst autoIncrement = require('mongoose-auto-increment');\r\nconst config = require(\"../config\");\r\n\r\nfunction init(db) {\r\n    mongoose.connect(config.db.url);\r\n    db = mongoose.connection;\r\n\r\n    autoIncrement.initialize(db);\r\n\r\n    db.on('error', (e) => console.log(e));\r\n\r\n    db.once('open', function () {\r\n        console.log(\"Connected to mongo server\");\r\n    });\r\n}\r\n\r\nmodule.exports = function () {\r\n    let db;\r\n\r\n    mongoose.Promise = global.Promise;\r\n\r\n    mongoose.connection.readyState === 1 || init(db);\r\n\r\n    return db;\r\n};\n\n\n// WEBPACK FOOTER //\n// ./server/model/index.js","const {Builder, Nuxt} = require(\"nuxt\");\r\nconst session = require(\"express-session\");\r\nconst bodyParser = require(\"body-parser\");\r\nconst express = require('express');\r\nconst serveStatic = require('serve-static');\r\nconst path = require(\"path\");\r\n\r\nconst config = require(\"../config\");\r\n\r\n\r\nfunction initMiddleware(app) {\r\n    app.use(bodyParser.urlencoded({extended: true}));\r\n    app.use(bodyParser.json());\r\n    app.use(\"/public\", serveStatic(path.join(__dirname, \"..\", \"public\")));\r\n}\r\n\r\nfunction initSession(app) {\r\n    app.use(session({secret: \"!XV^&_H$VJ$CHS&\"}))\r\n}\r\n\r\nfunction initAuth(app) {\r\n    require(\"../auth\")(app);\r\n}\r\n\r\nfunction initRouter(app) {\r\n    require(\"./controller\")(app);\r\n}\r\n\r\nfunction initNuxt(app) {\r\n    let nuxtConfig = require('../../nuxt.config.js')\r\n    nuxtConfig.dev = !(process.env.NODE_ENV === 'production')\r\n\r\n    const nuxt = new Nuxt(nuxtConfig)\r\n\r\n    if (nuxtConfig.dev) {\r\n        const builder = new Builder(nuxt)\r\n        builder.build()\r\n    }\r\n\r\n    app.use(nuxt.render)\r\n}\r\n\r\nmodule.exports = function () {\r\n    let app = express();\r\n\r\n    initMiddleware(app);\r\n    initSession(app);\r\n    initAuth(app);\r\n    initRouter(app);\r\n    initNuxt(app);\r\n\r\n    return app;\r\n}\n\n\n// WEBPACK FOOTER //\n// ./server/init/index.js","module.exports = require(\"nuxt\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"nuxt\"\n// module id = 11\n// module chunks = 0","module.exports = require(\"express-session\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"express-session\"\n// module id = 12\n// module chunks = 0","module.exports = require(\"body-parser\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"body-parser\"\n// module id = 13\n// module chunks = 0","module.exports = require(\"serve-static\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"serve-static\"\n// module id = 14\n// module chunks = 0","module.exports = require(\"path\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"path\"\n// module id = 15\n// module chunks = 0","const passport = require('passport');\r\n\r\nconst utils = require(\"../utils\");\r\nconst User = require(\"../model/user\");\r\n\r\nfunction initPassport(app) {\r\n    app.use(passport.initialize());\r\n    app.use(passport.session());\r\n}\r\n\r\nfunction initAllStrategies() {\r\n    utils.getFiles(`${__dirname}/strategies/`)\r\n        .forEach(file => {\r\n            require(`${__dirname}/strategies/${file}`)()\r\n        })\r\n}\r\n\r\nfunction initSerialize() {\r\n\r\n    // done({}, user) => req.session.passport.user = user\r\n    passport.serializeUser(function (user, done) {\r\n        done(null, user.forClient());\r\n    });\r\n\r\n    passport.deserializeUser(function (user, done) {\r\n        User.findById(user._id, done);\r\n    });\r\n}\r\n\r\nmodule.exports = function (app) {\r\n    initPassport(app);\r\n    initAllStrategies();\r\n    initSerialize();\r\n}\n\n\n// WEBPACK FOOTER //\n// ./server/auth/index.js","module.exports = require(\"fs\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"fs\"\n// module id = 17\n// module chunks = 0","var map = {\n\t\"./local\": 7,\n\t\"./local.js\": 7\n};\nfunction webpackContext(req) {\n\treturn __webpack_require__(webpackContextResolve(req));\n};\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) // check for number or string\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\treturn id;\n};\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 18;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./server/auth/strategies ^\\.\\/.*$\n// module id = 18\n// module chunks = 0","module.exports = require(\"passport-local\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"passport-local\"\n// module id = 19\n// module chunks = 0","\r\n\r\nmodule.exports = function TestService(){\r\n\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./server/service/TestService.js","module.exports = function TestController() {\r\n    this.post.test = function (param) {\r\n        return {\r\n            param,\r\n            currentUser: this.currentUser\r\n        }\r\n    }\r\n\r\n    this.get.test = function (param) {\r\n        console.log(\"testcontroller. test 함수 실행\")\r\n\r\n        return {\r\n            param,\r\n            currentUser: this.currentUser\r\n        }\r\n    }\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./server/api/TestController.js","module.exports = {\r\n    srcDir: \"client/\",\r\n    /*\r\n    ** Headers of the page\r\n    */\r\n    head: {\r\n        title: 'Raccoon',\r\n        meta: [\r\n            {charset: 'utf-8'},\r\n            {name: 'viewport', content: 'width=device-width, initial-scale=1'},\r\n            {hid: 'description', name: 'description', content: 'Nuxt.js project'}\r\n        ],\r\n        script: [\r\n            {src: '//cdn.ckeditor.com/4.6.2/full/ckeditor.js'}\r\n        ],\r\n        link: [\r\n            {rel: 'icon', type: 'image/x-icon', href: '/favicon.ico'},\r\n            {rel: 'stylesheet', href: 'https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Material+Icons'}\r\n        ]\r\n    },\r\n    router: {\r\n        middleware: \"checkAuth\"\r\n    },\r\n    plugins: [\r\n        '~/plugins/vuetify.js',\r\n    ],\r\n    css: ['~/assets/style/app.styl'],\r\n    // css: ['~/assets/css/main.css'],\r\n    loading: {color: '#060580'},\r\n    build: {\r\n        vendor: [\r\n            'axios',\r\n            '~/plugins/vuetify.js',\r\n            'vue2-medium-editor'\r\n        ],\r\n        extractCSS: true,\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./nuxt.config.js","const express = require('express');\r\nconst path = require('path');\r\nconst fs = require('fs');\r\n\r\nconst utils = require(\"../utils\");\r\n\r\nconst methodTypes = [\"get\", \"post\", \"all\", \"put\", \"delete\"];\r\n\r\nfunction Controller() {\r\n\r\n    this.TestService = require(\"../service/TestService\");\r\n\r\n    // this._init = function () {\r\n    //     let router = new express();\r\n    //\r\n    //     var TestController = require(\"./testController\");\r\n    //     var test = new TestController();\r\n    //\r\n    // }\r\n\r\n    this.post = {};\r\n    this.get = {};\r\n    this.put = {};\r\n    this.delete = {};\r\n    this.all = {};\r\n\r\n    this.getInfo = function (type) {\r\n        let methodNameArr = Object.keys(this[type]);\r\n\r\n        return methodNameArr.map(methodName => ({\r\n            route: getRoute(methodName),\r\n            dispatch: getDispatch.call(this, type, methodName)\r\n        }));\r\n    }\r\n\r\n    function getRoute(methodName) {\r\n        if (methodName.startsWith(\"_\"))\r\n            return `/:${methodName.slice(1)}`\r\n\r\n        return `/${methodName}`;\r\n    }\r\n\r\n    function init(req, res) {\r\n        this.req = req;\r\n        this.res = res;\r\n\r\n        this.body = req.body;\r\n        this.params = req.params;\r\n\r\n        this.currentUser = req.user;\r\n    }\r\n\r\n    function getDispatch(type, methodName) {\r\n        return (req, res) => {\r\n            init.call(this, req, res);\r\n\r\n            if (typeof(this[type][methodName]) !== 'function')\r\n                return res.json('')\r\n            // res.json(Error404)\r\n\r\n            res.json(this[type][methodName](123));\r\n        }\r\n    }\r\n}\r\n\r\nfunction getController(_Controller) {\r\n    _Controller.prototype = new Controller();\r\n    return new _Controller();\r\n}\r\n\r\nfunction getRouter(_Controller) {\r\n    let router = express.Router()\r\n\r\n    let controller = getController(_Controller)\r\n\r\n    methodTypes.forEach(type => {\r\n        let methodInfoArr = controller.getInfo(type)\r\n\r\n        methodInfoArr.forEach(info => {\r\n            router[type](info.route, info.dispatch);\r\n        })\r\n    })\r\n\r\n    return router;\r\n}\r\n\r\nfunction getAllControllerInfo() {\r\n    return fs.readdirSync(path.join(__dirname, '..', 'api'))\r\n        .filter(controllerName => controllerName.toUpperCase().endsWith(\"CONTROLLER.JS\"))\r\n        .map(controllerName => ({\r\n            route: `/${controllerName.substr(0, controllerName.toUpperCase().indexOf(\"CONTROLLER\"))}`,\r\n            Controller: require(`../api/${controllerName}`)\r\n        }))\r\n}\r\n\r\nfunction getApp() {\r\n    let app = express();\r\n\r\n    let controllerInfoArr = getAllControllerInfo();\r\n\r\n    controllerInfoArr.forEach(info => {\r\n        app.use(info.route, getRouter(info.Controller))\r\n    })\r\n\r\n    return app;\r\n}\r\n\r\nmodule.exports = function (app) {\r\n    app.use(\"/api\", getApp())\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./server/init/controller.js","const router = require(\"express\").Router()\r\n\r\n\r\nconst Board = require(\"../../model/board\");\r\n\r\nrouter.get(\"/getList\", function (req, res) {\r\n    Board.find({}, function (err, data) {\r\n        res.json(data);\r\n    })\r\n});\r\n\r\nrouter.get(\"/:id\", function (req, res) {\r\n    Board.findOne({_id: req.params.id}, function (err, data) {\r\n        res.json(data);\r\n    })\r\n});\r\n\r\nrouter.delete(\"/:id\", function (req, res) {\r\n    Board.deleteOne({_id:req.params.id}, function(err){\r\n        if(err){\r\n            res.json(err);\r\n        }\r\n        else{\r\n            res.json(\"Success\");\r\n        }\r\n    })\r\n});\r\n\r\nrouter.put(\"/:id\", function (req, res) {\r\n    Board.update({_id:req.params.id}, req.body, function(err){\r\n        if(err){\r\n            res.json(err);\r\n        }\r\n        else{\r\n            res.json(NoLogin)\r\n            res.json(\"Success\");\r\n        }\r\n    })\r\n});\r\n\r\nrouter.post(\"/insert\", function (req, res) {\r\n    console.log('board', req.body)\r\n    let board = new Board({\r\n        ...req.body,\r\n        regDate : new Date()\r\n    });\r\n    board.save(function (err) {\r\n        if (err) {\r\n            console.log(err.message)\r\n            res.json(\"error\");\r\n        }\r\n        else {\r\n            res.json(\"success\");\r\n        }\r\n    });\r\n})\r\n\r\n\r\nmodule.exports = router;\n\n\n// WEBPACK FOOTER //\n// ./server/api/board/index.js","const passport = require('passport');\nconst path = require('path');\nconst router = require('express').Router()\n\nconst User = require(\"../../model/user\")\nconst upload = require(\"../../utils/upload\")\n\nrouter.post('/join', function (req, res, next) {\n    new User({\n        ...req.body,\n        state: \"REG\",\n        userType: \"NORMAL\",\n        regDt: new Date()\n    }).save(err => {\n        res.json({\n            status: !err,\n            message: err && err.message\n        });\n    });\n});\n\n// router.post('/join', upload.single('photo'), function (req, res, next) {\n//\n//     new User({\n//         ...req.body,\n//         state: \"REG\",\n//         userType: \"NORMAL\",\n//         regDt: new Date()\n//     }).save(err => {\n//         res.json({\n//             status: !err,\n//             message: err && err.message\n//         });\n//     });\n//\n//     res.json({file: req.files[0], body: req.body})\n// });\n\n\nrouter.post('/login', function (req, res) {\n    passport.authenticate('local', function (err, user, info) {\n        if (err) return console.log(\"*****************/api/user/login\\r\\n\", err);\n        if (!user) return res.json({message: info});\n\n        req.logIn(user, function (err) {\n            if (err) return res.json(err);\n\n            return res.json({user: user.forClient()});\n        });\n    })(req, res);\n});\n\nrouter.all(\"/logout\", function (req, res) {\n    res.json(req.logout())\n})\n\n/* GET user by ID. */\nrouter.all('/currentUser', function (req, res) {\n    res.json(req.isAuthenticated() ? {user: req.user.forClient()} : undefined);\n});\n\n/* GET user by ID. */\nrouter.get(\"/test\", function (req, res) {\n    if (req.isAuthenticated()) return res.json({data: \"true\"});\n    res.json(req.user);\n});\n\nmodule.exports = router;\n\n\n// WEBPACK FOOTER //\n// ./server/api/user/index.js","var map = {\n\t\"./TestController\": 23,\n\t\"./TestController.js\": 23,\n\t\"./board\": 27,\n\t\"./board/\": 27,\n\t\"./board/index\": 27,\n\t\"./board/index.js\": 27,\n\t\"./user\": 28,\n\t\"./user/\": 28,\n\t\"./user/index\": 28,\n\t\"./user/index.js\": 28\n};\nfunction webpackContext(req) {\n\treturn __webpack_require__(webpackContextResolve(req));\n};\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) // check for number or string\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\treturn id;\n};\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 29;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./server/api ^\\.\\/.*$\n// module id = 29\n// module chunks = 0","const mongoose = require(\"mongoose\");\r\nconst autoIncrement = require('mongoose-auto-increment');\r\n\r\nconst BoardSchema = mongoose.Schema({\r\n    title: {\r\n        type: String,\r\n        required: true,\r\n    },\r\n    content: {\r\n        type: String,\r\n        required: true\r\n    },\r\n    regDate :{\r\n        type: Date,\r\n        default : Date.now\r\n    }\r\n});\r\n\r\nBoardSchema.plugin(autoIncrement.plugin, {\r\n    model: \"Board\",\r\n    startAt: 1,\r\n    field: '_id'\r\n});\r\n\r\nlet Board = mongoose.model(\"Board\", BoardSchema);\r\n\r\n// export default {\r\n//     Board\r\n// }\r\nmodule.exports = Board;\r\n\n\n\n// WEBPACK FOOTER //\n// ./server/model/board/index.js","\r\nconst multer  = require('multer')\r\n// const upload = multer({dest: \"../../uploads\"})\r\n\r\n\r\nvar storage = multer.diskStorage({\r\n    destination: (req, res, callback) => {\r\n        callback(null, './server/public/uploads');\r\n    },\r\n    filename: (req, file, callback) => {\r\n        //callback(null, file.originalname + Date.now());\r\n\r\n        var extension = path.extname(file.originalname);\r\n        var basename = path.basename(file.originalname, extension);\r\n        callback(null, `${basename}${Date.now()}${extension}`);\r\n    }\r\n});\r\n\r\nvar upload = multer({\r\n    storage: storage,\r\n    limits: {\r\n        fies: 10,\r\n        fileSize: 1024 * 1024 * 1024\r\n    }\r\n});\r\n\r\nmodule.exports = upload;\r\n\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./server/utils/upload.js","module.exports = require(\"multer\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"multer\"\n// module id = 32\n// module chunks = 0"],"sourceRoot":""}