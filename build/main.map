{"version":3,"sources":["webpack:///webpack/bootstrap b90f030cad377db620c7","webpack:///external \"express\"","webpack:///./server/api/index.js","webpack:///./server/api/board/index.js","webpack:///./server/api/user/index.js","webpack:///./server/config/index.js","webpack:///external \"mongoose\"","webpack:///external \"mongoose-auto-increment\"","webpack:///external \"passport\"","webpack:///./server/model/user/index.js","webpack:///external \"path\"","webpack:///./server/utils/index.js","webpack:///./server/auth/strategies/local.js","webpack:///./server/index.js","webpack:///./server/model/index.js","webpack:///./server/init/index.js","webpack:///external \"nuxt\"","webpack:///external \"express-session\"","webpack:///external \"body-parser\"","webpack:///external \"serve-static\"","webpack:///./server/auth/index.js","webpack:///external \"fs\"","webpack:///./server/auth/strategies ^\\.\\/.*$","webpack:///external \"passport-local\"","webpack:///./server/api ^\\.\\/.*$","webpack:///./server/model/board/index.js","webpack:///external \"multer\"","webpack:///./nuxt.config.js"],"names":["express","require","utils","useApiAll","app","getFiles","__dirname","filter","file","forEach","use","routeNone","req","res","json","getApp","module","exports","router","Router","Board","get","find","err","data","findOne","_id","params","id","delete","deleteOne","put","update","body","post","board","title","content","save","passport","path","multer","storage","diskStorage","destination","callback","filename","extension","extname","originalname","basename","Date","now","upload","limits","fies","fileSize","User","route","array","next","console","log","files","dir","authenticate","user","info","message","logIn","forClient","logout","all","isAuthenticated","undefined","host","port","db","url","mongoose","autoIncrement","UserSchema","Schema","email","type","String","unique","pwd","state","default","name","birthDay","userType","photo","regDt","plugin","model","startAt","field","static","method","readdirSync","LocalStrategy","Strategy","usernameField","passwordField","done","config","listen","init","connect","connection","initialize","on","e","once","Promise","global","readyState","Builder","Nuxt","session","bodyParser","serveStatic","initMiddleware","urlencoded","extended","join","initSession","secret","initAuth","initRouter","initNuxt","nuxtConfig","dev","nuxt","builder","build","render","initPassport","initAllStrategies","initSerialize","serializeUser","deserializeUser","findById","BoardSchema","required","regDate","srcDir","head","meta","charset","hid","script","src","link","rel","href","middleware","plugins","css","loading","color","vendor","extractCSS"],"mappings":";;;AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;;;;;;;AC7DA,oC;;;;;;ACAA,qDAAMA,UAAU,mBAAAC,CAAQ,CAAR,CAAhB;;AAEA,IAAMC,QAAQ,mBAAAD,CAAQ,EAAR,CAAd;;AAEA,SAASE,SAAT,CAAmBC,GAAnB,EAAwB;AACpBF,UAAMG,QAAN,CAAeC,SAAf,EACKC,MADL,CACY;AAAA,eAAQC,SAAS,UAAjB;AAAA,KADZ,EAEKC,OAFL,CAEa,gBAAQ;AACbL,YAAIM,GAAJ,OAAYF,IAAZ,EAAoB,4BAAAP,GAAaO,IAAb,CAApB;AACH,KAJL;AAKH;;AAED,SAASG,SAAT,CAAmBP,GAAnB,EAAwB;AACpBA,QAAIM,GAAJ,CAAQ,UAAUE,GAAV,EAAeC,GAAf,EAAoB;AACxB;AACAA,YAAIC,IAAJ,CAAS,WAAT;AACH,KAHD;AAIH;;AAED,SAASC,MAAT,GAAkB;AACd,QAAIX,MAAMJ,SAAV;AACAG,cAAUC,GAAV;AACAO,cAAUP,GAAV;;AAEA,WAAOA,GAAP;AACH;;AAEDY,OAAOC,OAAP,GAAiB,UAAUb,GAAV,EAAe;AAC5BA,QAAIM,GAAJ,CAAQ,MAAR,EAAgBK,QAAhB;AACH,CAFD,C;;;;;;;AC3BA,IAAMG,SAAS,mBAAAjB,CAAQ,CAAR,EAAmBkB,MAAnB,EAAf;;AAEA,IAAMC,QAAQ,mBAAAnB,CAAQ,EAAR,CAAd;;AAEAiB,OAAOG,GAAP,CAAW,UAAX,EAAuB,UAAUT,GAAV,EAAeC,GAAf,EAAoB;AACvCO,UAAME,IAAN,CAAW,EAAX,EAAe,UAAUC,GAAV,EAAeC,IAAf,EAAqB;AAChCX,YAAIC,IAAJ,CAASU,IAAT;AACH,KAFD;AAIH,CALD;;AAOAN,OAAOG,GAAP,CAAW,MAAX,EAAmB,UAAUT,GAAV,EAAeC,GAAf,EAAoB;AACnCO,UAAMK,OAAN,CAAc,EAACC,KAAKd,IAAIe,MAAJ,CAAWC,EAAjB,EAAd,EAAoC,UAAUL,GAAV,EAAeC,IAAf,EAAqB;AACrDX,YAAIC,IAAJ,CAASU,IAAT;AACH,KAFD;AAGH,CAJD;;AAMAN,OAAOW,MAAP,CAAc,MAAd,EAAsB,UAAUjB,GAAV,EAAeC,GAAf,EAAoB;AACtCO,UAAMU,SAAN,CAAgB,EAACJ,KAAId,IAAIe,MAAJ,CAAWC,EAAhB,EAAhB,EAAqC,UAASL,GAAT,EAAa;AAC9C,YAAGA,GAAH,EAAO;AACHV,gBAAIC,IAAJ,CAASS,GAAT;AACH,SAFD,MAGI;AACAV,gBAAIC,IAAJ,CAAS,SAAT;AACH;AACJ,KAPD;AAQH,CATD;;AAWAI,OAAOa,GAAP,CAAW,MAAX,EAAmB,UAAUnB,GAAV,EAAeC,GAAf,EAAoB;AACnCO,UAAMY,MAAN,CAAa,EAACN,KAAId,IAAIe,MAAJ,CAAWC,EAAhB,EAAb,EAAkChB,IAAIqB,IAAtC,EAA4C,UAASV,GAAT,EAAa;AACrD,YAAGA,GAAH,EAAO;AACHV,gBAAIC,IAAJ,CAASS,GAAT;AACH,SAFD,MAGI;AACAV,gBAAIC,IAAJ,CAAS,SAAT;AACH;AACJ,KAPD;AAQH,CATD;;AAWAI,OAAOgB,IAAP,CAAY,SAAZ,EAAuB,UAAUtB,GAAV,EAAeC,GAAf,EAAoB;AACvC,QAAIoB,OAAOrB,IAAIqB,IAAf;AACA,QAAIE,QAAQ,IAAIf,KAAJ,EAAZ;AACAe,UAAMC,KAAN,GAAcH,KAAKG,KAAnB;AACAD,UAAME,OAAN,GAAgBJ,KAAKI,OAArB;AACAF,UAAMG,IAAN,CAAW,UAAUf,GAAV,EAAe;AACtB,YAAIA,GAAJ,EAAS;AACLV,gBAAIC,IAAJ,CAAS,OAAT;AACH,SAFD,MAGK;AACDD,gBAAIC,IAAJ,CAAS,SAAT;AACH;AACJ,KAPD;AAQH,CAbD;;AAgBAE,OAAOC,OAAP,GAAiBC,MAAjB,C;;;;;;ACvDA,IAAMqB,WAAW,mBAAAtC,CAAQ,CAAR,CAAjB;AACA,IAAMuC,OAAO,mBAAAvC,CAAQ,CAAR,CAAb;AACA,IAAMiB,SAAS,mBAAAjB,CAAQ,CAAR,EAAmBkB,MAAnB,EAAf;AACA,IAAMsB,SAAU,mBAAAxC,CAAQ,EAAR,CAAhB;AACA;;;AAGA,IAAIyC,UAAUD,OAAOE,WAAP,CAAmB;AAC7BC,iBAAa,qBAAChC,GAAD,EAAMC,GAAN,EAAWgC,QAAX,EAAwB;AACjCA,iBAAS,IAAT,EAAe,yBAAf;AACH,KAH4B;AAI7BC,cAAU,kBAAClC,GAAD,EAAMJ,IAAN,EAAYqC,QAAZ,EAAyB;AAC/B;;AAEA,YAAIE,YAAYP,KAAKQ,OAAL,CAAaxC,KAAKyC,YAAlB,CAAhB;AACA,YAAIC,WAAWV,KAAKU,QAAL,CAAc1C,KAAKyC,YAAnB,EAAiCF,SAAjC,CAAf;AACAF,iBAAS,IAAT,OAAkBK,QAAlB,GAA6BC,KAAKC,GAAL,EAA7B,GAA0CL,SAA1C;AACH;AAV4B,CAAnB,CAAd;;AAaA,IAAIM,SAASZ,OAAO;AAChBC,aAASA,OADO;AAEhBY,YAAQ;AACJC,cAAM,EADF;AAEJC,kBAAU,OAAO,IAAP,GAAc;AAFpB;AAFQ,CAAP,CAAb;;AAQA,IAAMC,OAAO,mBAAAxD,CAAQ,CAAR,CAAb;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEAiB,OAAOwC,KAAP,CAAa,OAAb,EAAsBxB,IAAtB,CAA2BmB,OAAOM,KAAP,CAAa,OAAb,EAAsB,CAAtB,CAA3B,EAAqD,UAAU/C,GAAV,EAAeC,GAAf,EAAoB+C,IAApB,EAA0B;AAC3EC,YAAQC,GAAR,CAAYlD,IAAImD,KAAJ,CAAU,CAAV,CAAZ;AACAF,YAAQG,GAAR,CAAYpD,IAAIqB,IAAhB;;AAEApB,QAAIC,IAAJ,CAAS,EAACN,MAAMI,IAAImD,KAAJ,CAAU,CAAV,CAAP,EAAqB9B,MAAMrB,IAAIqB,IAA/B,EAAT;AACH,CALD;;AAQAf,OAAOgB,IAAP,CAAY,QAAZ,EAAsB,UAAUtB,GAAV,EAAeC,GAAf,EAAoB;AACtC0B,aAAS0B,YAAT,CAAsB,OAAtB,EAA+B,UAAU1C,GAAV,EAAe2C,IAAf,EAAqBC,IAArB,EAA2B;AACtD,YAAI5C,GAAJ,EAAS,OAAOsC,QAAQC,GAAR,CAAY,sCAAZ,EAAoDvC,GAApD,CAAP;AACT,YAAI,CAAC2C,IAAL,EAAW,OAAOrD,IAAIC,IAAJ,CAAS,EAACsD,SAASD,IAAV,EAAT,CAAP;;AAEXvD,YAAIyD,KAAJ,CAAUH,IAAV,EAAgB,UAAU3C,GAAV,EAAe;AAC3B,gBAAIA,GAAJ,EAAS,OAAOV,IAAIC,IAAJ,CAASS,GAAT,CAAP;;AAET,mBAAOV,IAAIC,IAAJ,CAAS,EAACoD,MAAMA,KAAKI,SAAL,EAAP,EAAT,CAAP;AACH,SAJD;AAKH,KATD,EASG1D,GATH,EASQC,GATR;AAUH,CAXD;;AAaAK,OAAOG,GAAP,CAAW,SAAX,EAAsB,UAAUT,GAAV,EAAeC,GAAf,EAAoB;AACtCA,QAAIC,IAAJ,CAASF,IAAI2D,MAAJ,EAAT;AACH,CAFD;;AAIA;AACArD,OAAOsD,GAAP,CAAW,cAAX,EAA2B,UAAU5D,GAAV,EAAeC,GAAf,EAAoB;AAC3CA,QAAIC,IAAJ,CAASF,IAAI6D,eAAJ,KAAwB,EAACP,MAAKtD,IAAIsD,IAAJ,CAASI,SAAT,EAAN,EAAxB,GAAsDI,SAA/D;AACH,CAFD;;AAIA;AACAxD,OAAOG,GAAP,CAAW,OAAX,EAAoB,UAAUT,GAAV,EAAeC,GAAf,EAAoB;AACpC,QAAID,IAAI6D,eAAJ,EAAJ,EAA2B,OAAO5D,IAAIC,IAAJ,CAAS,EAACU,MAAM,MAAP,EAAT,CAAP;AAC3BX,QAAIC,IAAJ,CAASF,IAAIsD,IAAb;AACH,CAHD;;AAKAlD,OAAOC,OAAP,GAAiBC,MAAjB,C;;;;;;;AC/EAF,OAAOC,OAAP,GAAiB;AACb0D,UAAM,WADO;AAEbC,UAAM,IAFO;AAGbC,QAAG;AACCC,aAAI;AADL;AAHU,CAAjB,C;;;;;;ACDA,qC;;;;;;ACAA,oD;;;;;;ACAA,qC;;;;;;ACAA,IAAMC,WAAW,mBAAA9E,CAAQ,CAAR,CAAjB;AACA,IAAM+E,gBAAgB,mBAAA/E,CAAQ,CAAR,CAAtB;;AAEA,IAAMgF,aAAaF,SAASG,MAAT,CAAgB;AAC/BC,WAAO;AACHC,cAAMC,MADH;AAEHpF,iBAAS,IAFN;AAGHqF,gBAAQ;AAHL,KADwB;AAM/BC,SAAK;AACDH,cAAMC,MADL;AAEDpF,iBAAS;AAFR,KAN0B;AAU/BuF,WAAO;AACHJ,cAAMC,MADH;AAEHI,iBAAS;AAFN,KAVwB;AAc/BC,UAAM;AACFN,cAAMC,MADJ;AAEFpF,iBAAS;AAFP,KAdyB;AAkB/B0F,cAAU;AACNP,cAAMjC,IADA;AAENlD,iBAAS;AAFH,KAlBqB;AAsB/B2F,cAAU;AACNR,cAAMC,MADA;AAENI,iBAAS;AAFH,KAtBqB;AA0B/BI,WAAO;AACHT,cAAMC;AADH,KA1BwB;AA6B/BS,WAAO;AACHV,cAAMjC,IADH;AAEHsC,iBAAStC,KAAKC;AAFX;AA7BwB,CAAhB,CAAnB;;AAmCA6B,WAAWc,MAAX,CAAkBf,cAAce,MAAhC,EAAwC;AACpCC,WAAO,MAD6B;AAEpCC,aAAS,CAF2B;AAGpCC,WAAO;AAH6B,CAAxC;;AAMA;AACAjB,WAAWkB,MAAX,CAAkB,UAAlB,EAA8B,UAASzE,GAAT,EAAcmB,QAAd,EAAuB;AACjD,WAAO,KAAKpB,OAAL,CAAa,EAACC,QAAD,EAAb,EAAoBmB,QAApB,CAAP;AACH,CAFD;;AAIA;AACAoC,WAAWmB,MAAX,CAAkB,WAAlB,EAA+B,YAAU;AACrC,WAAO;AACH1E,aAAM,KAAKA,GADR;AAEHyD,eAAQ,KAAKA,KAFV;AAGHO,cAAM,KAAKA,IAHR;AAIHC,kBAAW,KAAKA,QAJb;AAKHE,eAAO,KAAKA,KALT;AAMHD,kBAAW,KAAKA,QANb;AAOHE,eAAQ,KAAKA;AAPV,KAAP;AASH,CAVD;;AAYA,IAAIrC,OAAOsB,SAASiB,KAAT,CAAe,MAAf,EAAuBf,UAAvB,CAAX;;AAEAjE,OAAOC,OAAP,GAAiBwC,IAAjB,C;;;;;;AChEA,iC;;;;;;;ACCAzC,OAAOC,OAAP,GAAgB;AACZZ,YADY,oBACHmC,IADG,EACE;AACV,eAAO,mBAAAvC,CAAQ,EAAR,EAAcoG,WAAd,CAA0B7D,IAA1B,CAAP;AACH;AAHW,CAAhB,C;;;;;;ACDA,IAAMD,WAAW,mBAAAtC,CAAQ,CAAR,CAAjB;AACA,IAAMqG,gBAAgB,mBAAArG,CAAQ,EAAR,EAA0BsG,QAAhD;;AAEA,IAAM9C,OAAO,mBAAAxD,CAAQ,CAAR,CAAb;;AAEAe,OAAOC,OAAP,GAAiB,YAAY;AACzBsB,aAAS7B,GAAT,CAAa,IAAI4F,aAAJ,CAAkB;AACvBE,uBAAe,OADQ;AAEvBC,uBAAe;AAFQ,KAAlB,EAIT,UAAUtB,KAAV,EAAiBI,GAAjB,EAAsBmB,IAAtB,EAA4B;AACxBjD,aAAKhC,OAAL,CAAa,EAAC0D,YAAD,EAAQI,QAAR,EAAb,EAA2B,UAAUhE,GAAV,EAAe2C,IAAf,EAAqB;AAC5C,gBAAI3C,GAAJ,EAAS;AACL,uBAAOmF,KAAKnF,GAAL,CAAP;AACH;AACD,gBAAI,CAAC2C,IAAL,EAAW;AACP,uBAAOwC,KAAK,IAAL,EAAW,KAAX,EAAkB,EAACtC,SAAS,YAAV,EAAlB,CAAP;AACH;;AAED,mBAAOsC,KAAK,IAAL,EAAWxC,IAAX,CAAP;AACH,SATD;AAUH,KAfQ,CAAb;AAiBH,CAlBD,C;;;;;;;;ACHA,IAAIyC,SAAS,mBAAA1G,CAAQ,CAAR,CAAb;AACA,IAAI4E,KAAM,mBAAA5E,CAAQ,EAAR,GAAV;AACA,IAAIG,MAAM,mBAAAH,CAAQ,EAAR,GAAV;;AAEAG,IAAIwG,MAAJ,CAAWD,OAAO/B,IAAlB,EAAwB+B,OAAOhC,IAA/B,EAAqC,YAAU;AAC3Cd,YAAQC,GAAR,CAAY,aAAZ;AACAD,YAAQC,GAAR,CAAY,GAAZ;AACH,CAHD;;AAKAD,QAAQC,GAAR,CAAY,yBAAyB6C,OAAOhC,IAAhC,GAAuC,GAAvC,GAA6CgC,OAAO/B,IAAhE,E;;;;;;ACXA,IAAMG,WAAY,mBAAA9E,CAAQ,CAAR,CAAlB;AACA,IAAM+E,gBAAgB,mBAAA/E,CAAQ,CAAR,CAAtB;AACA,IAAM0G,SAAS,mBAAA1G,CAAQ,CAAR,CAAf;;AAEA,SAAS4G,IAAT,CAAchC,EAAd,EAAkB;AACdE,aAAS+B,OAAT,CAAiBH,OAAO9B,EAAP,CAAUC,GAA3B;AACAD,SAAKE,SAASgC,UAAd;;AAEA/B,kBAAcgC,UAAd,CAAyBnC,EAAzB;;AAEAA,OAAGoC,EAAH,CAAM,OAAN,EAAe,UAACC,CAAD;AAAA,eAAOrD,QAAQC,GAAR,CAAYoD,CAAZ,CAAP;AAAA,KAAf;;AAEArC,OAAGsC,IAAH,CAAQ,MAAR,EAAgB,YAAY;AACxBtD,gBAAQC,GAAR,CAAY,2BAAZ;AACH,KAFD;AAGH;;AAED9C,OAAOC,OAAP,GAAiB,YAAY;AACzB,QAAI4D,WAAJ;;AAEAE,aAASqC,OAAT,GAAmBC,OAAOD,OAA1B;;AAEArC,aAASgC,UAAT,CAAoBO,UAApB,KAAmC,CAAnC,IAAwCT,KAAKhC,EAAL,CAAxC;;AAEA,WAAOA,EAAP;AACH,CARD,C;;;;;;gECjBwB,mBAAA5E,CAAQ,EAAR,C;IAAjBsH,O,YAAAA,O;IAASC,I,YAAAA,I;;AAChB,IAAMC,UAAU,mBAAAxH,CAAQ,EAAR,CAAhB;AACA,IAAMyH,aAAa,mBAAAzH,CAAQ,EAAR,CAAnB;AACA,IAAMD,UAAU,mBAAAC,CAAQ,CAAR,CAAhB;AACA,IAAM0H,cAAc,mBAAA1H,CAAQ,EAAR,CAApB;AACA,IAAMuC,OAAO,mBAAAvC,CAAQ,CAAR,CAAb;;AAEA,IAAM0G,SAAS,mBAAA1G,CAAQ,CAAR,CAAf;;AAGA,SAAS2H,cAAT,CAAwBxH,GAAxB,EAA6B;AACzBA,QAAIM,GAAJ,CAAQgH,WAAWG,UAAX,CAAsB,EAACC,UAAU,IAAX,EAAtB,CAAR;AACA1H,QAAIM,GAAJ,CAAQgH,WAAW5G,IAAX,EAAR;AACAV,QAAIM,GAAJ,CAAQ,SAAR,EAAmBiH,YAAYnF,KAAKuF,IAAL,CAAUzH,SAAV,EAAqB,IAArB,EAA2B,QAA3B,CAAZ,CAAnB;AACH;;AAED,SAAS0H,WAAT,CAAqB5H,GAArB,EAA0B;AACtBA,QAAIM,GAAJ,CAAQ+G,QAAQ,EAACQ,QAAQ,iBAAT,EAAR,CAAR;AACH;;AAED,SAASC,QAAT,CAAkB9H,GAAlB,EAAuB;AACnBH,IAAA,mBAAAA,CAAQ,EAAR,EAAmBG,GAAnB;AACH;;AAED,SAAS+H,UAAT,CAAoB/H,GAApB,EAAyB;AACrBH,IAAA,mBAAAA,CAAQ,CAAR,EAAkBG,GAAlB;AACH;;AAED,SAASgI,QAAT,CAAkBhI,GAAlB,EAAuB;AACnB,QAAIiI,aAAa,mBAAApI,CAAQ,EAAR,CAAjB;AACAoI,eAAWC,GAAX,GAAiB,EAAE,kBAAyB,YAA3B,CAAjB;;AAEA,QAAMC,OAAO,IAAIf,IAAJ,CAASa,UAAT,CAAb;;AAEA,QAAIA,WAAWC,GAAf,EAAoB;AAChB,YAAME,UAAU,IAAIjB,OAAJ,CAAYgB,IAAZ,CAAhB;AACAC,gBAAQC,KAAR;AACH;;AAEDrI,QAAIM,GAAJ,CAAQ6H,KAAKG,MAAb;AACH;;AAED1H,OAAOC,OAAP,GAAiB,YAAY;AACzB,QAAIb,MAAMJ,SAAV;;AAEA4H,mBAAexH,GAAf;AACA4H,gBAAY5H,GAAZ;AACA8H,aAAS9H,GAAT;AACA+H,eAAW/H,GAAX;AACAgI,aAAShI,GAAT;;AAEA,WAAOA,GAAP;AACH,CAVD,C;;;;;;;AC1CA,iC;;;;;;ACAA,4C;;;;;;ACAA,wC;;;;;;ACAA,yC;;;;;;ACAA,qDAAMmC,WAAW,mBAAAtC,CAAQ,CAAR,CAAjB;;AAEA,IAAMC,QAAQ,mBAAAD,CAAQ,EAAR,CAAd;AACA,IAAMwD,OAAO,mBAAAxD,CAAQ,CAAR,CAAb;;AAEA,SAAS0I,YAAT,CAAsBvI,GAAtB,EAA2B;AACvBA,QAAIM,GAAJ,CAAQ6B,SAASyE,UAAT,EAAR;AACA5G,QAAIM,GAAJ,CAAQ6B,SAASkF,OAAT,EAAR;AACH;;AAED,SAASmB,iBAAT,GAA6B;AACzB1I,UAAMG,QAAN,CAAkBC,SAAlB,mBACKG,OADL,CACa,gBAAQ;AACbR,QAAA,+BAAmCO,IAAnC;AACH,KAHL;AAIH;;AAED,SAASqI,aAAT,GAAyB;;AAErB;AACAtG,aAASuG,aAAT,CAAuB,UAAU5E,IAAV,EAAgBwC,IAAhB,EAAsB;AACzCA,aAAK,IAAL,EAAWxC,KAAKI,SAAL,EAAX;AACH,KAFD;;AAIA/B,aAASwG,eAAT,CAAyB,UAAU7E,IAAV,EAAgBwC,IAAhB,EAAsB;AAC3CjD,aAAKuF,QAAL,CAAc9E,KAAKxC,GAAnB,EAAwBgF,IAAxB;AACH,KAFD;AAGH;;AAED1F,OAAOC,OAAP,GAAiB,UAAUb,GAAV,EAAe;AAC5BuI,iBAAavI,GAAb;AACAwI;AACAC;AACH,CAJD,C;;;;;;;AC7BA,+B;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uB;;;;;;AClBA,2C;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uB;;;;;;AC3BA,IAAM9D,WAAW,mBAAA9E,CAAQ,CAAR,CAAjB;AACA,IAAM+E,gBAAgB,mBAAA/E,CAAQ,CAAR,CAAtB;;AAEA,IAAMgJ,cAAclE,SAASG,MAAT,CAAgB;AAChC9C,WAAO;AACHgD,cAAMC,MADH;AAEH6D,kBAAU;AAFP,KADyB;AAKhC7G,aAAS;AACL+C,cAAMC,MADD;AAEL6D,kBAAU;AAFL,KALuB;AAShCC,aAAS;AACL/D,cAAMjC,IADD;AAELsC,iBAAUtC,KAAKC;AAFV;AATuB,CAAhB,CAApB;;AAeA6F,YAAYlD,MAAZ,CAAmBf,cAAce,MAAjC,EAAyC;AACrCC,WAAO,OAD8B;AAErCC,aAAS,CAF4B;AAGrCC,WAAO;AAH8B,CAAzC;;AAMA,IAAI9E,QAAQ2D,SAASiB,KAAT,CAAe,OAAf,EAAwBiD,WAAxB,CAAZ;;AAEA;AACA;AACA;AACAjI,OAAOC,OAAP,GAAiBG,KAAjB,C;;;;;;AC7BA,mC;;;;;;ACAAJ,OAAOC,OAAP,GAAiB;AACbmI,YAAQ,SADK;AAEb;;;AAGAC,UAAM;AACFjH,eAAO,SADL;AAEFkH,cAAM,CACF,EAACC,SAAS,OAAV,EADE,EAEF,EAAC7D,MAAM,UAAP,EAAmBrD,SAAS,qCAA5B,EAFE,EAGF,EAACmH,KAAK,aAAN,EAAqB9D,MAAM,aAA3B,EAA0CrD,SAAS,iBAAnD,EAHE,CAFJ;AAOFoH,gBAAQ,CACJ,EAACC,KAAK,2CAAN,EADI,CAPN;AAUFC,cAAM,CACF,EAACC,KAAK,MAAN,EAAcxE,MAAM,cAApB,EAAoCyE,MAAM,cAA1C,EADE,EAEF,EAACD,KAAK,YAAN,EAAoBC,MAAM,+EAA1B,EAFE;AAVJ,KALO;AAoBb3I,YAAQ;AACJ4I,oBAAY;AADR,KApBK;AAuBbC,aAAS,CACL,sBADK,CAvBI;AA0BbC,SAAK,CAAC,yBAAD,CA1BQ;AA2Bb;AACAC,aAAS,EAACC,OAAO,SAAR,EA5BI;AA6BbzB,WAAO;AACH0B,gBAAQ,CACJ,OADI,EAEJ,sBAFI,EAGJ,oBAHI,CADL;AAMHC,oBAAY;AANT;AA7BM,CAAjB,C","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 12);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap b90f030cad377db620c7","module.exports = require(\"express\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"express\"\n// module id = 0\n// module chunks = 0","const express = require('express')\n\nconst utils = require(\"../utils\");\n\nfunction useApiAll(app) {\n    utils.getFiles(__dirname)\n        .filter(file => file !== \"index.js\")\n        .forEach(file => {\n            app.use(`/${file}`, require(`./${file}`));\n        })\n}\n\nfunction routeNone(app) {\n    app.use(function (req, res) {\n        // 404\n        res.json(\"404_ERROR\")\n    })\n}\n\nfunction getApp() {\n    var app = express();\n    useApiAll(app);\n    routeNone(app);\n\n    return app;\n}\n\nmodule.exports = function (app) {\n    app.use(\"/api\", getApp())\n}\n\n\n\n// WEBPACK FOOTER //\n// ./server/api/index.js","const router = require(\"express\").Router()\r\n\r\nconst Board = require(\"../../model/board\");\r\n\r\nrouter.get(\"/getList\", function (req, res) {\r\n    Board.find({}, function (err, data) {\r\n        res.json(data);\r\n    })\r\n\r\n});\r\n\r\nrouter.get(\"/:id\", function (req, res) {\r\n    Board.findOne({_id: req.params.id}, function (err, data) {\r\n        res.json(data);\r\n    })\r\n});\r\n\r\nrouter.delete(\"/:id\", function (req, res) {\r\n    Board.deleteOne({_id:req.params.id}, function(err){\r\n        if(err){\r\n            res.json(err);\r\n        }\r\n        else{\r\n            res.json(\"Success\");\r\n        }\r\n    })\r\n});\r\n\r\nrouter.put(\"/:id\", function (req, res) {\r\n    Board.update({_id:req.params.id}, req.body, function(err){\r\n        if(err){\r\n            res.json(err);\r\n        }\r\n        else{\r\n            res.json(\"Success\");\r\n        }\r\n    })\r\n});\r\n\r\nrouter.post(\"/insert\", function (req, res) {\r\n    let body = req.body;\r\n    let board = new Board();\r\n    board.title = body.title;\r\n    board.content = body.content;\r\n    board.save(function (err) {\r\n        if (err) {\r\n            res.json(\"error\");\r\n        }\r\n        else {\r\n            res.json(\"success\");\r\n        }\r\n    });\r\n})\r\n\r\n\r\nmodule.exports = router;\n\n\n// WEBPACK FOOTER //\n// ./server/api/board/index.js","const passport = require('passport');\nconst path = require('path');\nconst router = require('express').Router()\nconst multer  = require('multer')\n// const upload = multer({dest: \"../../uploads\"})\n\n\nvar storage = multer.diskStorage({\n    destination: (req, res, callback) => {\n        callback(null, './server/public/uploads');\n    },\n    filename: (req, file, callback) => {\n        //callback(null, file.originalname + Date.now());\n\n        var extension = path.extname(file.originalname);\n        var basename = path.basename(file.originalname, extension);\n        callback(null, `${basename}${Date.now()}${extension}`);\n    }\n});\n\nvar upload = multer({\n    storage: storage,\n    limits: {\n        fies: 10,\n        fileSize: 1024 * 1024 * 1024\n    }\n});\n\nconst User = require(\"../../model/user\")\n\n// router.post('/join', function (req, res, next) {\n//     new User({\n//         ...req.body,\n//         state: \"REG\",\n//         userType: \"NORMAL\",\n//         regDt: new Date()\n//     }).save(err => {\n//         res.json({\n//             status: !err,\n//             message: err && err.message\n//         });\n//     });\n// });\n\nrouter.route('/join').post(upload.array('photo', 1), function (req, res, next) {\n    console.log(req.files[0])\n    console.dir(req.body)\n\n    res.json({file: req.files[0], body: req.body})\n});\n\n\nrouter.post('/login', function (req, res) {\n    passport.authenticate('local', function (err, user, info) {\n        if (err) return console.log(\"*****************/api/user/login\\r\\n\", err);\n        if (!user) return res.json({message: info});\n\n        req.logIn(user, function (err) {\n            if (err) return res.json(err);\n\n            return res.json({user: user.forClient()});\n        });\n    })(req, res);\n});\n\nrouter.get(\"/logout\", function (req, res) {\n    res.json(req.logout())\n})\n\n/* GET user by ID. */\nrouter.all('/currentUser', function (req, res) {\n    res.json(req.isAuthenticated() ? {user:req.user.forClient()} : undefined);\n});\n\n/* GET user by ID. */\nrouter.get(\"/test\", function (req, res) {\n    if (req.isAuthenticated()) return res.json({data: \"true\"});\n    res.json(req.user);\n});\n\nmodule.exports = router;\n\n\n// WEBPACK FOOTER //\n// ./server/api/user/index.js","\r\nmodule.exports = {\r\n    host: \"localhost\",\r\n    port: 3000,\r\n    db:{\r\n        url:\"mongodb://localhost/blog\"\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./server/config/index.js","module.exports = require(\"mongoose\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"mongoose\"\n// module id = 5\n// module chunks = 0","module.exports = require(\"mongoose-auto-increment\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"mongoose-auto-increment\"\n// module id = 6\n// module chunks = 0","module.exports = require(\"passport\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"passport\"\n// module id = 7\n// module chunks = 0","const mongoose = require(\"mongoose\")\r\nconst autoIncrement = require('mongoose-auto-increment');\r\n\r\nconst UserSchema = mongoose.Schema({\r\n    email: {\r\n        type: String,\r\n        require: true,\r\n        unique: true\r\n    },\r\n    pwd: {\r\n        type: String,\r\n        require: true,\r\n    },\r\n    state: {\r\n        type: String,\r\n        default: \"REG\"\r\n    },\r\n    name: {\r\n        type: String,\r\n        require: true\r\n    },\r\n    birthDay: {\r\n        type: Date,\r\n        require: true,\r\n    },\r\n    userType: {\r\n        type: String,\r\n        default: \"NORMAL\"\r\n    },\r\n    photo: {\r\n        type: String,\r\n    },\r\n    regDt: {\r\n        type: Date,\r\n        default: Date.now\r\n    }\r\n});\r\n\r\nUserSchema.plugin(autoIncrement.plugin, {\r\n    model: \"User\",\r\n    startAt: 1,\r\n    field: '_id'\r\n});\r\n\r\n// User.findById(_id, (err,result)=>{})\r\nUserSchema.static(\"findById\", function(_id, callback){\r\n    return this.findOne({_id}, callback);\r\n})\r\n\r\n// result = new User().myMethod(arg1, arg2);\r\nUserSchema.method(\"forClient\", function(){\r\n    return {\r\n        _id : this._id,\r\n        email : this.email,\r\n        name: this.name,\r\n        birthDay : this.birthDay,\r\n        photo: this.photo,\r\n        userType : this.userType,\r\n        regDt : this.regDt,\r\n    };\r\n})\r\n\r\nlet User = mongoose.model(\"User\", UserSchema);\r\n\r\nmodule.exports = User;\n\n\n// WEBPACK FOOTER //\n// ./server/model/user/index.js","module.exports = require(\"path\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"path\"\n// module id = 9\n// module chunks = 0","\r\nmodule.exports ={\r\n    getFiles(path){\r\n        return require(\"fs\").readdirSync(path);\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./server/utils/index.js","const passport = require('passport');\r\nconst LocalStrategy = require('passport-local').Strategy;\r\n\r\nconst User = require(\"../../model/user\");\r\n\r\nmodule.exports = function () {\r\n    passport.use(new LocalStrategy({\r\n            usernameField: 'email',\r\n            passwordField: 'pwd'\r\n        },\r\n        function (email, pwd, done) {\r\n            User.findOne({email, pwd}, function (err, user) {\r\n                if (err) {\r\n                    return done(err);\r\n                }\r\n                if (!user) {\r\n                    return done(null, false, {message: 'Incorrect.'});\r\n                }\r\n\r\n                return done(null, user);\r\n            });\r\n        }\r\n    ))\r\n}\n\n\n// WEBPACK FOOTER //\n// ./server/auth/strategies/local.js","\n\nlet config = require('./config');\nlet db =  require('./model')();\nlet app = require('./init')();\n\napp.listen(config.port, config.host, function(){\n    console.log(\"SERVER INIT\")\n    console.log(123);\n})\n\nconsole.log('Server listening on ' + config.host + ':' + config.port);\n\n\n// WEBPACK FOOTER //\n// ./server/index.js","const mongoose  = require('mongoose');\r\nconst autoIncrement = require('mongoose-auto-increment');\r\nconst config = require(\"../config\");\r\n\r\nfunction init(db) {\r\n    mongoose.connect(config.db.url);\r\n    db = mongoose.connection;\r\n\r\n    autoIncrement.initialize(db);\r\n\r\n    db.on('error', (e) => console.log(e));\r\n\r\n    db.once('open', function () {\r\n        console.log(\"Connected to mongo server\");\r\n    });\r\n}\r\n\r\nmodule.exports = function () {\r\n    let db;\r\n\r\n    mongoose.Promise = global.Promise;\r\n\r\n    mongoose.connection.readyState === 1 || init(db);\r\n\r\n    return db;\r\n};\n\n\n// WEBPACK FOOTER //\n// ./server/model/index.js","const {Builder, Nuxt} = require(\"nuxt\");\r\nconst session = require(\"express-session\");\r\nconst bodyParser = require(\"body-parser\");\r\nconst express = require('express');\r\nconst serveStatic = require('serve-static');\r\nconst path = require(\"path\");\r\n\r\nconst config = require(\"../config\");\r\n\r\n\r\nfunction initMiddleware(app) {\r\n    app.use(bodyParser.urlencoded({extended: true}));\r\n    app.use(bodyParser.json());\r\n    app.use(\"/public\", serveStatic(path.join(__dirname, \"..\", \"public\")));\r\n}\r\n\r\nfunction initSession(app) {\r\n    app.use(session({secret: \"!XV^&_H$VJ$CHS&\"}))\r\n}\r\n\r\nfunction initAuth(app) {\r\n    require(\"../auth\")(app);\r\n}\r\n\r\nfunction initRouter(app) {\r\n    require(\"../api\")(app);\r\n}\r\n\r\nfunction initNuxt(app) {\r\n    let nuxtConfig = require('../../nuxt.config.js')\r\n    nuxtConfig.dev = !(process.env.NODE_ENV === 'production')\r\n\r\n    const nuxt = new Nuxt(nuxtConfig)\r\n\r\n    if (nuxtConfig.dev) {\r\n        const builder = new Builder(nuxt)\r\n        builder.build()\r\n    }\r\n\r\n    app.use(nuxt.render)\r\n}\r\n\r\nmodule.exports = function () {\r\n    let app = express();\r\n\r\n    initMiddleware(app);\r\n    initSession(app);\r\n    initAuth(app);\r\n    initRouter(app);\r\n    initNuxt(app);\r\n\r\n    return app;\r\n}\n\n\n// WEBPACK FOOTER //\n// ./server/init/index.js","module.exports = require(\"nuxt\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"nuxt\"\n// module id = 15\n// module chunks = 0","module.exports = require(\"express-session\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"express-session\"\n// module id = 16\n// module chunks = 0","module.exports = require(\"body-parser\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"body-parser\"\n// module id = 17\n// module chunks = 0","module.exports = require(\"serve-static\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"serve-static\"\n// module id = 18\n// module chunks = 0","const passport = require('passport');\r\n\r\nconst utils = require(\"../utils\");\r\nconst User = require(\"../model/user\");\r\n\r\nfunction initPassport(app) {\r\n    app.use(passport.initialize());\r\n    app.use(passport.session());\r\n}\r\n\r\nfunction initAllStrategies() {\r\n    utils.getFiles(`${__dirname}/strategies/`)\r\n        .forEach(file => {\r\n            require(`${__dirname}/strategies/${file}`)()\r\n        })\r\n}\r\n\r\nfunction initSerialize() {\r\n\r\n    // done({}, user) => req.session.passport.user = user\r\n    passport.serializeUser(function (user, done) {\r\n        done(null, user.forClient());\r\n    });\r\n\r\n    passport.deserializeUser(function (user, done) {\r\n        User.findById(user._id, done);\r\n    });\r\n}\r\n\r\nmodule.exports = function (app) {\r\n    initPassport(app);\r\n    initAllStrategies();\r\n    initSerialize();\r\n}\n\n\n// WEBPACK FOOTER //\n// ./server/auth/index.js","module.exports = require(\"fs\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"fs\"\n// module id = 20\n// module chunks = 0","var map = {\n\t\"./local\": 11,\n\t\"./local.js\": 11\n};\nfunction webpackContext(req) {\n\treturn __webpack_require__(webpackContextResolve(req));\n};\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) // check for number or string\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\treturn id;\n};\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 21;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./server/auth/strategies ^\\.\\/.*$\n// module id = 21\n// module chunks = 0","module.exports = require(\"passport-local\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"passport-local\"\n// module id = 22\n// module chunks = 0","var map = {\n\t\"./\": 1,\n\t\"./board\": 2,\n\t\"./board/\": 2,\n\t\"./board/index\": 2,\n\t\"./board/index.js\": 2,\n\t\"./index\": 1,\n\t\"./index.js\": 1,\n\t\"./user\": 3,\n\t\"./user/\": 3,\n\t\"./user/index\": 3,\n\t\"./user/index.js\": 3\n};\nfunction webpackContext(req) {\n\treturn __webpack_require__(webpackContextResolve(req));\n};\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) // check for number or string\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\treturn id;\n};\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 23;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./server/api ^\\.\\/.*$\n// module id = 23\n// module chunks = 0","const mongoose = require(\"mongoose\");\r\nconst autoIncrement = require('mongoose-auto-increment');\r\n\r\nconst BoardSchema = mongoose.Schema({\r\n    title: {\r\n        type: String,\r\n        required: true,\r\n    },\r\n    content: {\r\n        type: String,\r\n        required: true\r\n    },\r\n    regDate :{\r\n        type: Date,\r\n        default : Date.now\r\n    }\r\n});\r\n\r\nBoardSchema.plugin(autoIncrement.plugin, {\r\n    model: \"Board\",\r\n    startAt: 1,\r\n    field: '_id'\r\n});\r\n\r\nlet Board = mongoose.model(\"Board\", BoardSchema);\r\n\r\n// export default {\r\n//     Board\r\n// }\r\nmodule.exports = Board;\r\n\n\n\n// WEBPACK FOOTER //\n// ./server/model/board/index.js","module.exports = require(\"multer\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"multer\"\n// module id = 25\n// module chunks = 0","module.exports = {\r\n    srcDir: \"client/\",\r\n    /*\r\n    ** Headers of the page\r\n    */\r\n    head: {\r\n        title: 'Raccoon',\r\n        meta: [\r\n            {charset: 'utf-8'},\r\n            {name: 'viewport', content: 'width=device-width, initial-scale=1'},\r\n            {hid: 'description', name: 'description', content: 'Nuxt.js project'}\r\n        ],\r\n        script: [\r\n            {src: '//cdn.ckeditor.com/4.6.2/full/ckeditor.js'}\r\n        ],\r\n        link: [\r\n            {rel: 'icon', type: 'image/x-icon', href: '/favicon.ico'},\r\n            {rel: 'stylesheet', href: 'https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Material+Icons'}\r\n        ]\r\n    },\r\n    router: {\r\n        middleware: \"checkAuth\"\r\n    },\r\n    plugins: [\r\n        '~/plugins/vuetify.js',\r\n    ],\r\n    css: ['~/assets/style/app.styl'],\r\n    // css: ['~/assets/css/main.css'],\r\n    loading: {color: '#060580'},\r\n    build: {\r\n        vendor: [\r\n            'axios',\r\n            '~/plugins/vuetify.js',\r\n            'vue2-medium-editor'\r\n        ],\r\n        extractCSS: true,\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./nuxt.config.js"],"sourceRoot":""}